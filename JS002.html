<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="generator" content="HTML Tidy for HTML5 for Windows version 5.5.31">
  <style>
    body {font-family: Arial, Helvetica, sans-serif}
    header ul li {display:inline; list-style:none; }
    table {border-collapse:collapse; border:2px solid black}
    tr, th, td {border:1px solid black; padding:2px }
    strong {color: red}
    .z9_Elhagy {display: none}
    .z9_Jegyzet {font-family: 'Comic Sans MS', cursive}
    .z9_Igen {background-color: lime; color: black; padding-left: 3px; padding-right: 3px}
    .z9_Nem {background-color: red; color: black; padding-left: 3px; padding-right: 3px}
    .z9_NemErtelmezett {background-color: yellow; color: black; padding-left: 3px; padding-right: 3px}
    .z9_TdIgen {text-align: center; background-color: lime; color: black}
    .z9_TdNem {text-align: center; background-color: red; color: black}
    .z9_Fej {font-weight: bold;}
  </style>
  <title>JS002 - DOM</title>
</head>
<body>
  <h1>JS002 - DOM</h1>
  <header>
    <h2 class="z9_Elhagy">Navigáció</h2>
    <ul>
      <li>[ <a href="JS001.html">JS001</a>
      </li>
      <li>| <a href="index.html">index</a>
      </li>
      <li>| <a href="JS003.html">JS003</a> ]
      </li>
    </ul>
    <h2 class="z9_Elhagy">Kulcsszavak</h2>
    <ul>
      <li>[ DOM ]</li>
    </ul>
    <hr>
  </header>
  <section>
    <h2>Mi ez ?</h2>
    <p>Dokument Object Model, a böngészők ezt a modellt használják a HTLM kód struktúrált tárolására. Ez egy fa
    szerkezetű objektum, melyet a böngésző hoz létre a beolvasott HTML kód alapján. Minden böngésző ablakhoz (böngésző
    fülhöz ?!) külön-külön tartozik egy saját fa <b>window</b> gyökér elemmel.</p>
    <p><a name="a_Abra" id="a_Abra">A DOM vázlatos képe (Teszt könyvjelző)</a><br>
    <img src="JS002.svg" alt="Nem jeleníthető meg a JS002.svg ábra." title="DOM vázlaos képe" width="400" height=
    "400"></p>
    <p><strong>Figyelem !</strong> Fontos megkülönböztetni, hogy a <i>JavaScript</i>nek vannak saját objektumai és a
    Böngészőnek is van saját objektuma a DOM. Például a JavaScript saját objektuma minden a <b>Date</b> osztályból
    <b>new</b> operátorral létrehozott példány. Erre a példányra mutató referenciát tehetünk egy változóba az =
    (egyenlőség jel) operátorral. A böngésző objektumát nem kell létrehozni, az a HTML kód beolvasásakor felépül. Ez a
    DOM. A böngészőben implementált (megvalósított, bevezetett) JavaScript tudja használni a DOM objektumait.</p>
    <p>A DOM objektumainak is vannak tulajdonságaik és tagfüggvényeik. Ezekre úgy hivatkozunk, hogy a gyökértől
    indulva, pontokkal elválasztva felsorolom a hozzá vezető objektum csomópontokat, végül egy pont és utána a
    tulajdonság vagy tagfüggvény név pl.:<br>
    <code>window.alert("Figyelem !")</code><br>
    <code>window.document.write("Hello!")</code></p>
    <p>Amikor fut a JavaScriptünk, mindig van egy default (alapértelmezett / kijelölt / vélelmezett) <b>window</b>
    aminek az objektumaira hivatkozhatunk a <q>window</q> kiírása nélkül. Így használható pl. a következő utasítás
    is:<br>
    <code>alert("Figyelem !")</code></p>
    <p>Lássunk néhány példát!</p>
    <p>Uglás/Link az ábra melletti horgonyra (anchor) <a href="#a_Abra">(Ugrás...)</a></p>
    <h2>Néhány DOM objektum tulajdonságokkal és tagfüggvényekkel</h2>
    <ol>
      <li>document.URL
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az aktuális Weboldal URL-je.</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható: <span class="z9_Igen">igen</span> írható: <span class=
          "z9_Nem">nem</span></li>
          <li>Példa:
            <ul>
              <li id="z9_LiDocumentURL"></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>document.title
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az aktuális Weboldal címe, ami a <b>title</b> elemben van.</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható: <span class="z9_Igen">igen</span> írható: <span class=
          "z9_Igen">igen</span></li>
          <li>Példa:
            <ul>
              <li id="z9_LiDocumentTitle"></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>document.referrer
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az aktuális oldalt BETÖLTŐ oldal URL-je.</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható:<span class="z9_Igen">igen</span> írható:<span class=
          "z9_Nem">nem</span></li>
          <li>Példa:
            <ul>
              <li id="z9_LiDocumentReferrer"></li>
            </ul>
          </li>
          <li>Jegyzetek:
            <ul class="z9_Jegyzet">
              <li>Nem működik... Nem tudom miért. Lehet, hogy csak Kliens-Szerver felállásban működik?</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>document.lastModified
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az oldal utolsó módosításának időpontja. Azért csak
          óvatosan...</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható:<span class="z9_Igen">igen</span> írható:<span class=
          "z9_Nem">nem</span></li>
          <li>Példa:
            <ul>
              <li id="z9_LiDocumentLastModified"></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>document.cookie
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Cookie (süti / adatmorzsa) kezelés. Beolvas egy sztringet egy
          sütiállományból, vagy kiír eggyet egy sütiállományba, ami a Kliens számítógépén a Böngésző által
          meghatározott könyvtárban van.</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható:<span class="z9_Igen">igen</span> írható:<span class=
          "z9_Igen">igen</span></li>
          <li>Példa:
            <ul>
              <li id="z9_LiDocumentCookie"></li>
            </ul>
          </li>
          <li>Jegyzetek:
            <ul class="z9_Jegyzet">
              <li>Ez izgalmas, később írok erre is példát.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>document.links
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az oldalon létrehozott linkek a <b>document.links</b> kollekcióban
          vannak tárolva. Egy eleme a <b>document.links[i]</b>, ahol i a tömb indexe
          (i=0,1,...n=document.links.length-1). Egy ilyen elem egy DOM objektum, aminek tulajdonságai és tagfüggvényei
          vannak. A példában a <b>href</b> tulajdonságot mutatom meg.</li>
          <li><span class="z9_Fej">Jellemző</span>: kollekció</li>
          <li><span class="z9_Fej">Hozzáférés</span>: <span class="z9_NemErtelmezett">nem értelmezett</span></li>
          <li>Példa (document.links[*].href):
            <ul>
              <li id="z9_LiDocumentLinks"></li>
            </ul>
          </li>
          <li>Jegyzetek:
            <ul class="z9_Jegyzet">
              <li>Az anchor elem két fajtája van, az egyik a <b>link</b>, aminek <b>href</b> tulajdonsága van és ez
              ugrik a <i>href</i>ben megadott URL-re.<br>
              A másik a könyvjelző, aminek <b>id</b> tulajdonsága van és ez egy ugrás célja.</li>
              <li>Nem mindegy hol van az <b>id</b> tulajdonsággal ellátott könyvjelző. Ha a HTML kódban, a linkeket
              kiíró szkrip <u>előtt</u>, akkor bekerül a <b>links</b> kollekcióba és használható. Ha utána, akkor nem.
              Pl. a <code>&lt;a href="#a_OldalVege"&gt;(Ugrás az oldal végére)&lt;/a"&gt;</code> teszt link ennek a
              listának a végén elhelyezkedő JavaScript blokk <u>után</u> helyezkedik el, ezér nem kerül kiírásra. Úgy
              tűnik, hogy a HTML kód beolvasásával egyidőben épül fel a DOM.</li>
              <li>Eredetileg az anchor elem azonosító tulajdonsága a <b>name</b> tulajdonság volt de a HTML5-ben ez nem
              támogatott, helyette az általánosan használt <b>id</b> tulajdonságot kell alkalmazni. Tényleg !?</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>document.anchors
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az oldalon létrehozott könyvjelzők (anchors) a
          <b>document.anchors</b> kollekcióban vannak tárolva. Tehát a <code>&lt;a name="a_Abra"&gt;</code> és a
          <code>&lt;/a&gt;</code> közé eső rész. A document.anchors egy eleme a <b>document.anchors[i]</b> objektum,
          ahol i a tömb indexe (i=0,1,...,n=document.anchors.length-1), aminek tulajdonságai és tagfüggvényei vannak. A
          példában a <b>innerHTML</b> tulajdonságot mutatom meg:</li>
          <li><span class="z9_Fej">Jellemző</span>: kollekció</li>
          <li><span class="z9_Fej">Hozzáférés</span>: <span class="z9_NemErtelmezett">nem értelmezett</span></li>
          <li>Példa (document.anchors[*].innerHTML):
            <ul>
              <li id="z9_LiDocumentAnchors"></li>
            </ul>
          </li>
          <li>Jegyzetek:
            <ul class="z9_Jegyzet">
              <li>
                <strong>Figyelem!!!</strong> A Böngészők nem egyformán kezelik az anchor elemet. A HTML5 az <b>id</b>
                tulajdonságot várja az azonosításra, eredetileg a <b>name</b> tulajdonság szolgált erre.
                <table>
                  <tr>
                    <th>name</th>
                    <th>id</th>
                    <th>SafeZone</th>
                    <th>Chrome</th>
                    <th>IE</th>
                  </tr>
                  <tr>
                    <td>van</td>
                    <td>van</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                  </tr>
                  <tr>
                    <td>van</td>
                    <td>nincs</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                  </tr>
                  <tr>
                    <td>nincs</td>
                    <td>van</td>
                    <td class="z9_TdNem">NEM kezeli</td>
                    <td class="z9_TdNem">NEM kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                  </tr>
                  <tr>
                    <td>nincs</td>
                    <td>nincs</td>
                    <td class="z9_TdNem">NEM kezeli</td>
                    <td class="z9_TdNem">NEM kezeli</td>
                    <td class="z9_TdNem">NEM kezeli</td>
                  </tr>
                </table>
              </li>
              <li>Nekem érdekes, hogy ha egy <b>img</b> elem van ott, akkor az <b>innerHTML</b> tulajdonság
              megjelenítésekor (pl. document.write()) a kép jelenik meg :-o.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>history.length
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az előzmény lista hossza.</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható:<span class="z9_Igen">igen</span> írható:<span class=
          "z9_Nem">nem</span></li>
          <li>Példa:
            <ul>
              <li id="z9_LihistoryLength"></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>history.back(), history.forward(), history.go()
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: Az eddig meglátogatott URL-ek listájából választhatunk egy URL-t és
          a Böngésző a hozzá tartozó lapot betölti. history.back() : a történet kollekcióból az előző URL-t tölti be.
          history.forward() : a történet kollekcióból a következő URL-t tölti be. Utóbbinak akkor van értelme ha
          előzőleg, csupán a history tagfüggvényeit használva visszaléptünk. history.go(<i>kif</i>) ahol a kif egy
          egész szám kifejezés ami pozitív, 0, vagy negatív lehet.</li>
          <li><span class="z9_Fej">Jellemző</span>: tagfüggvény</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható:<span class="z9_Nem">nem</span> írható:<span class=
          "z9_Nem">nem</span> végrehajtható:<span class="z9_Igen">igen</span></li>
          <li><button onclick="history.back();">Előző URL</button> <button onclick="history.forward();">Következő
          URL</button> <button onclick="history.go(-2);">Vissza 2-vel</button></li>
        </ul>
      </li>
      <li>location.protocol, .hostname, .port, ... tulajdonságok
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: A Böngésző címsávjában lévő URL-t részeit kérdezhetjük le.</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható:<span class="z9_Igen">igen</span> írható:<span class=
          "z9_Igen">igen</span></li>
          <li>Példa:
            <ul>
              <li id="z9_Location"></li>
              <li><input type="button" onclick="location.pathname='JS003.html';" value=
              "location.pathname=JS003.html &gt;"></li>
            </ul>
          </li>
          <li>Jegyzetek:
            <ul class="z9_Jegyzet">
              <li>Próbáltam a <b>location.pathname</b> beállításával HTML oldalt váltani. Ha a munkaállomás valamelyik
              könyvtárában van az oldal, akkor a következőt tapasztaltam: amikor teljes útvonal adom meg a HTML lapot,
              akkor a három böngészőm (az Avast SZ, a Chrome és az IE) jól jeleníti meg a lapot. Viszont ha csak a HTML
              lap nevét adom meg, akkor csak az IE jeleníti meg a lapot. Tehát ez a lehetőség másra való, általános
              használatra nem.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>location.href
        <ul>
          <li><span class="z9_Fej">Jelentés</span>: A Böngésző címsávjában lévő teljes URL-t lekérdező és beállító
          tulajdonság.</li>
          <li><span class="z9_Fej">Jellemző</span>: tulajdonság</li>
          <li><span class="z9_Fej">Hozzáférés</span>: olvasható: <span class="z9_Igen">igen</span> írható: <span class=
          "z9_Igen">igen</span></li>
          <li>Példa:
            <ul>
              <li id="z9_LocationHref"></li>
              <li><input type="button" onclick="location.href='JS003.html';" value=
              "location.href=JS003.html &gt;"></li>
            </ul>
          </li>
          <li>Jegyzetek:
            <ul class="z9_Jegyzet">
              <li>A location.pathname és a location.href összehasonlítása.
                <table>
                  <tr>
                    <th>Oldalváltás</th>
                    <th>HTML megadása</th>
                    <th>SafeZone</th>
                    <th>Chrome</th>
                    <th>IE</th>
                  </tr>
                  <tr>
                    <td>location.pathname</td>
                    <td>teljes útvonall + HTML állomány név</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                  </tr>
                  <tr>
                    <td>location.pathname</td>
                    <td>HTML állomány név</td>
                    <td class="z9_TdNem">NEM kezeli</td>
                    <td class="z9_TdNem">NEM kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                  </tr>
                  <tr>
                    <td>location.href</td>
                    <td>HTML állomány név</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                    <td class="z9_TdIgen">kezeli</td>
                  </tr>
                </table>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ol><!-- A példák elkészítése-->
    <script>
      document.getElementById("z9_LiDocumentURL").innerHTML = document.URL;
      document.getElementById("z9_LiDocumentTitle").innerHTML = document.title;
      document.getElementById("z9_LiDocumentReferrer").innerHTML = document.referrer;
      document.getElementById("z9_LiDocumentLastModified").innerHTML = document.lastModified;
      document.getElementById("z9_LiDocumentCookie").innerHTML = document.cookie;
      var v_HtmlCode;
      var i;
      var v_length;
      //
      // z9_LiDocumentLinks
      v_length=document.links.length;
      if ( v_length===0 ) {
        v_HtmlCode="*Nincs link az oldalon*";
      }
      else {
        v_HtmlCode="";
        for (i=0;i<v_length;i++) {
          v_HtmlCode +=((i===0) ? "":"<br>")+document.links[i].href;
        }
      }
      document.getElementById("z9_LiDocumentLinks").innerHTML = v_HtmlCode;
      //
      //z9_LiDocumentAnchors
      v_length=document.anchors.length;
      if ( v_length===0 ) {
        v_HtmlCode="*Nincs link az oldalon*";
      }
      else {
        v_HtmlCode="";
        for (i=0;i<v_length;i++) {
          v_HtmlCode +=((i===0) ? "": "<br>")+document.anchors[i].innerHTML;
        }
      }
      document.getElementById("z9_LiDocumentAnchors").innerHTML = v_HtmlCode;
      //
      //z9_LihistoryLength
      document.getElementById("z9_LihistoryLength").innerHTML = history.length;
      //
      //z9_Location
      v_HtmlCode  ="location.protocol="+location.protocol;
      v_HtmlCode +="<br>location.hostname="+location.hostname;
      v_HtmlCode +="<br>location.port="+location.port;
      v_HtmlCode +="<br>location.pathname="+location.pathname;
      v_HtmlCode +="<br>location.search="+location.search;
      v_HtmlCode +="<br>location.hash="+location.hash;
      document.getElementById("z9_Location").innerHTML = v_HtmlCode;
      //
      //z9_LocationHref
      document.getElementById("z9_LocationHref").innerHTML = location.href;
    </script>
    <p>Teszt link az <i>a_OldalVege</i> könyvjelzőre: <a href="#a_OldalVege">(Ugrás az oldal végére)</a></p>
  </section>
  <section class="z9_Jegyzet">
    <h2>Tapasztalatok</h2>
    <p>Az <i>a_OldalVege</i> könyvjelzőre mutató link, a JavaScript blokk futásakor még nem létezett, ezért nem került
    be a document.links-es példába.</p>
  </section>
  <p><a id="a_OldalVege">Oldal vége</a></p>
</body>
</html>
